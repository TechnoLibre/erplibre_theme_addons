<?xml version="1.0" encoding="utf-8"?>
<odoo>

<!--   Assets for reports-->
  <template id="report_assets_custom_erplibre" inherit_id="web.report_assets_common">
    <xpath expr="//link[last()]">
      <link rel="stylesheet" type="text/scss"
            href="/invoice_template_custom_erplibre/static/src/scss/layout_custom_erplibre.scss"/>
    </xpath>
  </template>


    <template id="report_layout_custom" inherit_id="web.report_layout">
<!-- TODO add conditional on the company.external_report_layout_id.key == 'invoice_template_custom_erplibre.external_layout_custom_erplibre' -->
        <xpath expr="//body/div[@id='wrapwrap']/main" position="attributes">
            <attribute name="style">margin: 0; padding: 0; max-width: 100%;</attribute>
        </xpath>
    </template>

    <template id="external_layout_custom_erplibre">
<!--                <t t-set="full_width" t-value="True"/>-->

        <div class="article o_report_layout_custom"  t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <div class="o_header_custom">
                <div class="header_custom--logo">
                    <img t-if="company.logo" t-att-src="image_data_uri(company.logo)" alt="Logo"/>
                </div>
                <ul class="header_custom--info" name="company_address">
                    <strong><li t-if="company.name"><span t-field="company.name"/></li></strong>
                    <li>
                        <span class="company_address"
                              t-field="company.partner_id"
                              t-options='{"widget": "contact", "fields": ["address"], "no_marker": true}'/>
                    </li>

                    <li t-if="company.vat"><t t-esc="company.country_id.vat_label or 'Tax ID'"/>: <span t-field="company.vat"/></li>
                    <li t-if="company.phone">Tel: <span t-field="company.phone"/></li>
                    <li t-if="company.email"><span t-field="company.email"/></li>
                    <li t-if="company.website"><span t-field="company.website"/></li>
                </ul>
<!--                        <span t-field="company.report_footer"/>-->
<!--                        <h4 class="mt0 mb0 text-uppercase" t-field="company.report_header"/>-->
            </div>

            <div class="layout_custom--content">
                <t t-call="web.address_layout"/>
                <t t-raw="0"/>
            </div>

        </div>

        <div class="footer">
            <div t-if="report_type == 'pdf'" class="pagenumber">
                Page:
                <span class="page"/>
                of
                <span class="topage"/>
            </div>
        </div>
    </template>

</odoo>
